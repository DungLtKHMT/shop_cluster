<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Cluster Analysis Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-active {
            background-color: #0284c7;
            color: white;
            border-bottom: 3px solid #0369a1;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-white to-cyan-50 min-h-screen">
    
    <!-- Header -->
    <header class="bg-white shadow-md border-b-4 border-cyan-600">
        <div class="container mx-auto px-6 py-5">
            <h1 class="text-3xl font-bold text-gray-800">Shop Cluster Analysis</h1>
            <p class="text-gray-600 mt-1">Ph√¢n T√≠ch Ph√¢n Kh√∫c Kh√°ch H√†ng Theo Lu·∫≠t K·∫øt H·ª£p</p>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <div class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-6">
            <nav class="flex space-x-1">
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200 tab-active" data-tab="overview">
                    1. T·ªïng Quan
                </button>
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200" data-tab="rules">
                    2. Lu·∫≠t K·∫øt H·ª£p
                </button>
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200" data-tab="features">
                    3. ƒê·∫∑c Tr∆∞ng
                </button>
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200" data-tab="clustering">
                    4. Ph√¢n C·ª•m
                </button>
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200" data-tab="profiling">
                    5. H·ªì S∆° C·ª•m
                </button>
                <button class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50 transition-colors duration-200" data-tab="strategy">
                    6. Chi·∫øn L∆∞·ª£c
                </button>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-8">
        
        <!-- Tab 1: Overview -->
        <div id="tab-overview" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">Th·ªëng K√™ T·ªïng Quan</h2>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg p-6 text-white shadow-lg">
                        <div class="text-3xl font-bold" id="stat-customers">-</div>
                        <div class="text-sm mt-2 opacity-90">T·ªïng Kh√°ch H√†ng</div>
                    </div>
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-6 text-white shadow-lg">
                        <div class="text-3xl font-bold" id="stat-clusters">-</div>
                        <div class="text-sm mt-2 opacity-90">S·ªë C·ª•m</div>
                    </div>
                    <div class="bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg p-6 text-white shadow-lg">
                        <div class="text-3xl font-bold" id="stat-rules-apriori">-</div>
                        <div class="text-sm mt-2 opacity-90">Lu·∫≠t Apriori</div>
                    </div>
                    <div class="bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg p-6 text-white shadow-lg">
                        <div class="text-3xl font-bold" id="stat-rules-fpgrowth">-</div>
                        <div class="text-sm mt-2 opacity-90">Lu·∫≠t FP-Growth</div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">Ph√¢n B·ªï C·ª•m</h3>
                        <canvas id="clusterDistChart" height="250"></canvas>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">So S√°nh Recency (Ng√†y t·ª´ l·∫ßn mua cu·ªëi)</h3>
                        <canvas id="recencyChart" height="250"></canvas>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">So S√°nh Frequency (S·ªë ƒë∆°n h√†ng)</h3>
                        <canvas id="frequencyChart" height="250"></canvas>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">So S√°nh Monetary (T·ªïng chi ti√™u ¬£)</h3>
                        <canvas id="monetaryChart" height="250"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Association Rules -->
        <div id="tab-rules" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">Ph√¢n T√≠ch Lu·∫≠t K·∫øt H·ª£p</h2>
                
                <!-- Filters -->
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">B·ªô L·ªçc</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Thu·∫≠t To√°n</label>
                            <select id="rule-algorithm" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent">
                                <option value="apriori">Apriori</option>
                                <option value="fpgrowth">FP-Growth</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Top N Lu·∫≠t</label>
                            <input type="number" id="rule-topn" value="20" min="5" max="100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Min Lift</label>
                            <input type="number" id="rule-minlift" value="1.0" step="0.1" min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent">
                        </div>
                        <div class="flex items-end">
                            <button onclick="loadRules()" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors duration-200">
                                √Åp D·ª•ng
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Rules Table -->
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200">
                        <thead class="bg-gradient-to-r from-cyan-600 to-blue-600 text-white">
                            <tr>
                                <th class="px-6 py-3 text-left text-sm font-semibold">#</th>
                                <th class="px-6 py-3 text-left text-sm font-semibold">Antecedents</th>
                                <th class="px-6 py-3 text-left text-sm font-semibold">Consequents</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Support</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Confidence</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Lift</th>
                            </tr>
                        </thead>
                        <tbody id="rules-table-body" class="divide-y divide-gray-200">
                            <tr>
                                <td colspan="6" class="px-6 py-8 text-center text-gray-500">
                                    ƒêang t·∫£i d·ªØ li·ªáu...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Rules Analysis -->
                <div class="mt-8 bg-blue-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Ph∆∞∆°ng Ph√°p L·ª±a Ch·ªçn Lu·∫≠t</h3>
                    
                    <div class="bg-white rounded-lg p-6 mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">1. ∆Øu Ti√™n S·∫Øp X·∫øp: Lift (kh√¥ng ph·∫£i Confidence hay Support)</h4>
                        <div class="text-gray-700 space-y-2">
                            <p><strong>L√Ω do ch·ªçn Lift:</strong></p>
                            <ul class="list-disc ml-6 space-y-1">
                                <li><strong>Lift</strong> ƒëo ƒë·ªô m·∫°nh c·ªßa m·ªëi quan h·ªá: Lift > 1 nghƒ©a l√† A l√†m <em>tƒÉng</em> kh·∫£ nƒÉng xu·∫•t hi·ªán B</li>
                                <li><strong>Confidence</strong> b·ªã nhi·ªÖu b·ªüi s·∫£n ph·∫©m ph·ªï bi·∫øn: N·∫øu B r·∫•t ph·ªï bi·∫øn th√¨ confidence cao nh∆∞ng kh√¥ng c√≥ √Ω nghƒ©a</li>
                                <li><strong>Support</strong> ch·ªâ ƒëo m·ª©c ƒë·ªô ph·ªï bi·∫øn: Kh√¥ng ph·∫£n √°nh pattern mua k√®m ƒë·∫∑c bi·ªát</li>
                            </ul>
                            <div class="bg-cyan-50 border-l-4 border-cyan-600 p-3 mt-3">
                                <p class="text-sm text-cyan-900"><strong>V√≠ d·ª•:</strong> Lu·∫≠t "HERB MARKER ROSEMARY + PARSLEY ‚Üí THYME" c√≥ Lift=74.57 nghƒ©a l√† khi mua 2 s·∫£n ph·∫©m ƒë·∫ßu th√¨ kh·∫£ nƒÉng mua THYME tƒÉng l√™n <strong>74.57 l·∫ßn</strong> so v·ªõi b√¨nh th∆∞·ªùng ‚Üí Pattern mua combo r·∫•t m·∫°nh!</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg p-6 mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">2. Ng∆∞·ª°ng L·ªçc √Åp D·ª•ng</h4>
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="px-4 py-2 text-left text-sm font-semibold">Ng∆∞·ª°ng</th>
                                        <th class="px-4 py-2 text-left text-sm font-semibold">Gi√° Tr·ªã</th>
                                        <th class="px-4 py-2 text-left text-sm font-semibold">L√Ω Do</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y">
                                    <tr>
                                        <td class="px-4 py-2 font-medium">min_support</td>
                                        <td class="px-4 py-2 text-cyan-700">‚â• 0.01 (1%)</td>
                                        <td class="px-4 py-2 text-sm">Lo·∫°i b·ªè lu·∫≠t qu√° hi·∫øm, ƒë·∫£m b·∫£o pattern c√≥ √Ω nghƒ©a th·ªëng k√™</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 font-medium">min_confidence</td>
                                        <td class="px-4 py-2 text-cyan-700">‚â• 0.50 (50%)</td>
                                        <td class="px-4 py-2 text-sm">Ch·ªâ gi·ªØ lu·∫≠t c√≥ ƒë·ªô ch·∫Øc ch·∫Øn trung b√¨nh tr·ªü l√™n</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 font-medium">min_lift</td>
                                        <td class="px-4 py-2 text-cyan-700">‚â• 10.0</td>
                                        <td class="px-4 py-2 text-sm">Ch·ªâ l·∫•y pattern mua k√®m M·∫†NH (tƒÉng 10 l·∫ßn), lo·∫°i b·ªè m·ªëi quan h·ªá y·∫øu</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 font-medium">Top-K</td>
                                        <td class="px-4 py-2 text-cyan-700 font-semibold">200 lu·∫≠t (11% t·ªët nh·∫•t)</td>
                                        <td class="px-4 py-2 text-sm">C√¢n b·∫±ng information (80%) vs noise (10%). Samples/features = 19.6 (t·ªët cho K-Means). Lift cutoff ‚âà 10. ƒê·∫°t Silhouette = 0.8541</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-cyan-50 to-blue-50 rounded-lg p-6 border-2 border-cyan-200">
                        <h4 class="font-semibold text-gray-800 mb-3 flex items-center">
                            <span class="text-2xl mr-2">üìä</span>
                            Th·ª≠ Nghi·ªám Top-K: T·∫°i Sao Ch·ªçn 200?
                        </h4>
                        <p class="text-sm text-gray-700 mb-4">
                            Ch√∫ng t√¥i ƒë√£ ch·∫°y th·ª≠ nghi·ªám v·ªõi 6 gi√° tr·ªã Top-K kh√°c nhau (50, 100, 200, 300, 500, 1000) v√† ƒë√°nh gi√° b·∫±ng <strong>Silhouette Score</strong>.
                        </p>
                        
                        <div class="bg-white rounded-lg p-4 mb-4">
                            <img src="/static/images/top_k_comparison.png" alt="Top-K Comparison" class="w-full rounded-lg shadow-md">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-lg p-4 border-l-4 border-green-500">
                                <h5 class="font-semibold text-green-700 mb-2">‚úÖ K·∫øt Qu·∫£ Th·ª≠ Nghi·ªám</h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li><strong>Top-K = 50:</strong> Sil = 0.986 (cao nh·∫•t) nh∆∞ng <span class="text-red-600">m·∫•t 89% th√¥ng tin</span></li>
                                    <li><strong>Top-K = 100:</strong> Sil = 0.922, samples/feature = 38 (t·ªët)</li>
                                    <li><strong>Top-K = 200:</strong> Sil = <span class="text-green-600 font-bold">0.854</span>, samples/feature = 19.3 (c√¢n b·∫±ng)</li>
                                    <li><strong>Top-K = 300-500:</strong> Sil gi·∫£m (0.84-0.82), b·∫Øt ƒë·∫ßu c√≥ noise</li>
                                    <li><strong>Top-K = 1000:</strong> Sil = 0.788, samples/feature = 3.9 (<span class="text-red-600">curse of dimensionality</span>)</li>
                                </ul>
                            </div>

                            <div class="bg-white rounded-lg p-4 border-l-4 border-blue-500">
                                <h5 class="font-semibold text-blue-700 mb-2">üéØ L√Ω Do Ch·ªçn K=200</h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>1. <strong>Silhouette cao:</strong> 0.854 (excellent clustering)</li>
                                    <li>2. <strong>Samples/Features = 19.3:</strong> V∆∞·ª£t ng∆∞·ª°ng 10:1</li>
                                    <li>3. <strong>Mean Lift = 42.2:</strong> Gi·ªØ ƒë∆∞·ª£c lu·∫≠t m·∫°nh (Lift > 20)</li>
                                    <li>4. <strong>Capture 80% information:</strong> ƒê·ªß ƒë·ªÉ ph√¢n bi·ªát patterns</li>
                                    <li>5. <strong>Ch·ªâ 10% noise:</strong> Lo·∫°i b·ªè lu·∫≠t y·∫øu (Lift < 20)</li>
                                    <li>6. <strong>Kh√¥ng overfitting:</strong> Tr√°nh curse of dimensionality</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mt-4 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                            <p class="text-sm text-gray-700">
                                <strong>üí° Insight:</strong> Top-K = 50 c√≥ Silhouette cao h∆°n (0.986) nh∆∞ng <strong>kh√¥ng ph√π h·ª£p</strong> v√¨:
                                <span class="text-red-600 font-semibold">thi·∫øu diversity</span> (ch·ªâ 50 rules kh√¥ng ƒë·ªß capture h√†nh vi ƒëa d·∫°ng c·ªßa 3,921 kh√°ch h√†ng),
                                <span class="text-red-600 font-semibold">m·∫•t th√¥ng tin</span> (b·ªè qua 1,744/1,794 = 97% lu·∫≠t c√≥ gi√° tr·ªã).
                                Top-K = 200 l√† ƒëi·ªÉm sweet spot: <strong>ƒë·ªß th√¥ng tin + kh√¥ng nhi·ªÖu + clustering t·ªët</strong>.
                            </p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg p-6">
                        <h4 class="font-semibold text-gray-800 mb-3">3. V√≠ D·ª• 10 Lu·∫≠t Ti√™u Bi·ªÉu (Top Lift)</h4>
                        <p class="text-sm text-gray-600 mb-3">D∆∞·ªõi ƒë√¢y l√† 10 lu·∫≠t ch·∫•t l∆∞·ª£ng cao ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m ƒë·∫ßu v√†o cho ph√¢n c·ª•m:</p>
                        <div class="overflow-x-auto">
                            <table class="min-w-full text-sm border border-gray-200">
                                <thead class="bg-gradient-to-r from-cyan-600 to-blue-600 text-white">
                                    <tr>
                                        <th class="px-3 py-2 text-left">#</th>
                                        <th class="px-3 py-2 text-left">Antecedents</th>
                                        <th class="px-3 py-2 text-left">Consequents</th>
                                        <th class="px-3 py-2 text-center">Support</th>
                                        <th class="px-3 py-2 text-center">Conf</th>
                                        <th class="px-3 py-2 text-center">Lift</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 bg-white">
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">1</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER ROSEMARY + PARSLEY</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER THYME</td>
                                        <td class="px-3 py-2 text-center">0.0109</td>
                                        <td class="px-3 py-2 text-center">0.95</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">74.57</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">2</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER MINT + THYME</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER ROSEMARY</td>
                                        <td class="px-3 py-2 text-center">0.0106</td>
                                        <td class="px-3 py-2 text-center">0.96</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">74.50</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">3</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER MINT + THYME</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER PARSLEY</td>
                                        <td class="px-3 py-2 text-center">0.0104</td>
                                        <td class="px-3 py-2 text-center">0.94</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">74.30</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">4</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER PARSLEY + THYME</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER ROSEMARY</td>
                                        <td class="px-3 py-2 text-center">0.0109</td>
                                        <td class="px-3 py-2 text-center">0.95</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">74.24</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">5</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER BASIL + THYME</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER ROSEMARY</td>
                                        <td class="px-3 py-2 text-center">0.0107</td>
                                        <td class="px-3 py-2 text-center">0.95</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">74.17</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">6</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER BASIL + ROSEMARY</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER THYME</td>
                                        <td class="px-3 py-2 text-center">0.0107</td>
                                        <td class="px-3 py-2 text-center">0.94</td>
                                        <td class="px-3 py-2 text-center text-red-600 font-bold">73.41</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">7</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER MINT + ROSEMARY</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER THYME</td>
                                        <td class="px-3 py-2 text-center">0.0106</td>
                                        <td class="px-3 py-2 text-center">0.93</td>
                                        <td class="px-3 py-2 text-center text-orange-600 font-bold">73.00</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">8</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER MINT + ROSEMARY</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER PARSLEY</td>
                                        <td class="px-3 py-2 text-center">0.0105</td>
                                        <td class="px-3 py-2 text-center">0.92</td>
                                        <td class="px-3 py-2 text-center text-orange-600 font-bold">72.87</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">9</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER BASIL + THYME</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER PARSLEY</td>
                                        <td class="px-3 py-2 text-center">0.0104</td>
                                        <td class="px-3 py-2 text-center">0.92</td>
                                        <td class="px-3 py-2 text-center text-orange-600 font-bold">72.81</td>
                                    </tr>
                                    <tr class="hover:bg-blue-50">
                                        <td class="px-3 py-2">10</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER CHIVES</td>
                                        <td class="px-3 py-2 text-xs">HERB MARKER PARSLEY</td>
                                        <td class="px-3 py-2 text-center">0.0104</td>
                                        <td class="px-3 py-2 text-center">0.92</td>
                                        <td class="px-3 py-2 text-center text-orange-600 font-bold">72.81</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-4 bg-emerald-50 border-l-4 border-emerald-600 p-4">
                            <p class="font-semibold text-emerald-900 mb-2">Nh·∫≠n X√©t Ch·∫•t L∆∞·ª£ng:</p>
                            <ul class="text-sm text-emerald-800 space-y-1">
                                <li><strong>Lift r·∫•t cao (70+)</strong>: Pattern mua combo HERB MARKERS c·ª±c k·ª≥ m·∫°nh</li>
                                <li><strong>Confidence cao (92-96%)</strong>: ƒê·ªô ch·∫Øc ch·∫Øn c·ªßa lu·∫≠t t·ªët</li>
                                <li><strong>Support h·ª£p l√Ω (~1%)</strong>: ƒê·ªß ph·ªï bi·∫øn ƒë·ªÉ c√≥ √Ω nghƒ©a, kh√¥ng qu√° hi·∫øm</li>
                                <li><strong>·ª®ng d·ª•ng</strong>: D√πng ƒë·ªÉ t·∫°o ƒë·∫∑c tr∆∞ng ph√¢n c·ª•m ‚Üí Ph√¢n bi·ªát kh√°ch mua combo vs ƒë∆°n l·∫ª</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: Feature Engineering -->
        <div id="tab-features" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">Feature Engineering</h2>
                
                <!-- Comparison Table -->
                <div class="overflow-x-auto mb-8">
                    <table class="min-w-full bg-white border border-gray-200">
                        <thead class="bg-gradient-to-r from-cyan-600 to-blue-600 text-white">
                            <tr>
                                <th class="px-6 py-3 text-left text-sm font-semibold">Bi·∫øn Th·ªÉ</th>
                                <th class="px-6 py-3 text-left text-sm font-semibold">M√¥ T·∫£</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Rule Features</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Weighting</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">RFM</th>
                                <th class="px-6 py-3 text-center text-sm font-semibold">Scaling</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-blue-50">
                                <td class="px-6 py-4 font-semibold text-gray-900">Baseline</td>
                                <td class="px-6 py-4 text-gray-700">ƒê·∫∑c tr∆∞ng nh·ªã ph√¢n theo lu·∫≠t</td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Binary</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">None</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">No</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">No</span></td>
                            </tr>
                            <tr class="hover:bg-blue-50">
                                <td class="px-6 py-4 font-semibold text-gray-900">Weighted Rules</td>
                                <td class="px-6 py-4 text-gray-700">Tr·ªçng s·ªë theo lift</td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Weighted</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Lift</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">No</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">Yes</span></td>
                            </tr>
                            <tr class="hover:bg-blue-50 bg-cyan-50">
                                <td class="px-6 py-4 font-semibold text-cyan-900">Rule + RFM (Best)</td>
                                <td class="px-6 py-4 text-gray-700">K·∫øt h·ª£p weighted rules + RFM</td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Weighted</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Lift</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Yes</span></td>
                                <td class="px-6 py-4 text-center"><span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">StandardScaler</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Explanation with Real Examples -->
                <div class="bg-blue-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Gi·∫£i Th√≠ch Thi·∫øt K·∫ø V·ªõi V√≠ D·ª• Th·ª±c T·∫ø</h3>
                    <div class="space-y-6">
                        
                        <!-- Example Customer Setup -->
                        <div class="bg-white rounded-lg p-5 border-l-4 border-blue-500">
                            <h4 class="font-semibold text-gray-800 mb-3">V√≠ D·ª•: Hai Kh√°ch H√†ng Th·ª±c T·∫ø</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div class="bg-blue-50 p-4 rounded">
                                    <p class="font-bold text-blue-900 mb-2">Kh√°ch A (ID: 012748)</p>
                                    <ul class="space-y-1 text-gray-700">
                                        <li>‚Ä¢ Mua: HERB MARKER ROSEMARY + PARSLEY + THYME (combo 3)</li>
                                        <li>‚Ä¢ Recency: 1 ng√†y</li>
                                        <li>‚Ä¢ Frequency: 209 ƒë∆°n</li>
                                        <li>‚Ä¢ Monetary: ¬£33,719</li>
                                    </ul>
                                </div>
                                <div class="bg-orange-50 p-4 rounded">
                                    <p class="font-bold text-orange-900 mb-2">Kh√°ch B (ID: 012747)</p>
                                    <ul class="space-y-1 text-gray-700">
                                        <li>‚Ä¢ Mua: WHITE HANGING HEART (ƒë∆°n l·∫ª)</li>
                                        <li>‚Ä¢ Recency: 2 ng√†y</li>
                                        <li>‚Ä¢ Frequency: 11 ƒë∆°n</li>
                                        <li>‚Ä¢ Monetary: ¬£4,196</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Variant 1: Baseline -->
                        <div class="bg-white rounded-lg p-5">
                            <h4 class="font-semibold text-gray-800 mb-3">1. Baseline (Binary Rule Features)</h4>
                            <p class="text-gray-700 mb-3">M·ªói kh√°ch h√†ng ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·∫±ng vector nh·ªã ph√¢n: 1 n·∫øu th·ªèa m√£n antecedents c·ªßa lu·∫≠t, 0 n·∫øu kh√¥ng.</p>
                            <div class="bg-gray-50 p-4 rounded border">
                                <p class="font-mono text-sm mb-2"><strong>Lu·∫≠t:</strong> ROSEMARY + PARSLEY ‚Üí THYME (Lift = 74.57)</p>
                                <div class="grid grid-cols-2 gap-4 mt-3">
                                    <div>
                                        <span class="font-semibold">Kh√°ch A:</span>
                                        <code class="ml-2 bg-green-100 px-2 py-1 rounded">rule_1 = 1</code>
                                        <p class="text-xs text-gray-600 mt-1">C√≥ c·∫£ ROSEMARY + PARSLEY</p>
                                    </div>
                                    <div>
                                        <span class="font-semibold">Kh√°ch B:</span>
                                        <code class="ml-2 bg-red-100 px-2 py-1 rounded">rule_1 = 0</code>
                                        <p class="text-xs text-gray-600 mt-1">Kh√¥ng c√≥ combo n√†y</p>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-orange-600 mt-3"><strong>V·∫•n ƒë·ªÅ:</strong> Kh√¥ng ph√¢n bi·ªát ƒë∆∞·ª£c lu·∫≠t m·∫°nh (lift 74) vs lu·∫≠t y·∫øu (lift 2)</p>
                        </div>

                        <!-- Variant 2: Weighted -->
                        <div class="bg-white rounded-lg p-5">
                            <h4 class="font-semibold text-gray-800 mb-3">2. Weighted Rules</h4>
                            <p class="text-gray-700 mb-3">M·ªói rule feature ƒë∆∞·ª£c nh√¢n v·ªõi <strong>lift</strong> c·ªßa lu·∫≠t ƒë√≥ ƒë·ªÉ ph·∫£n √°nh ƒë·ªô m·∫°nh.</p>
                            <div class="bg-gray-50 p-4 rounded border">
                                <p class="font-mono text-sm mb-2"><strong>Lu·∫≠t:</strong> ROSEMARY + PARSLEY ‚Üí THYME (Lift = 74.57)</p>
                                <div class="grid grid-cols-2 gap-4 mt-3">
                                    <div>
                                        <span class="font-semibold">Kh√°ch A:</span>
                                        <code class="ml-2 bg-green-100 px-2 py-1 rounded">rule_1 = 1 √ó 74.57 = 74.57</code>
                                        <p class="text-xs text-gray-600 mt-1">Pattern mua combo r·∫•t m·∫°nh!</p>
                                    </div>
                                    <div>
                                        <span class="font-semibold">Kh√°ch B:</span>
                                        <code class="ml-2 bg-red-100 px-2 py-1 rounded">rule_1 = 0 √ó 74.57 = 0</code>
                                        <p class="text-xs text-gray-600 mt-1">Kh√¥ng c√≥ pattern n√†y</p>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-emerald-600 mt-3"><strong>C·∫£i thi·ªán:</strong> Ph√¢n bi·ªát r√µ lu·∫≠t m·∫°nh vs y·∫øu, nh∆∞ng thi·∫øu th√¥ng tin RFM</p>
                        </div>

                        <!-- Variant 3: Rule + RFM (Best) -->
                        <div class="bg-white rounded-lg p-5 border-2 border-cyan-500">
                            <h4 class="font-semibold text-gray-800 mb-3">3. Rule + RFM (Ph∆∞∆°ng √Ån T·ªët Nh·∫•t)</h4>
                            <p class="text-gray-700 mb-3">K·∫øt h·ª£p weighted rules + RFM, sau ƒë√≥ chu·∫©n h√≥a b·∫±ng StandardScaler.</p>
                            <div class="bg-gray-50 p-4 rounded border">
                                <p class="font-semibold mb-3">Vector ƒë·∫∑c tr∆∞ng ƒë·∫ßy ƒë·ªß:</p>
                                <div class="space-y-4">
                                    <div class="bg-blue-50 p-3 rounded">
                                        <p class="font-semibold text-blue-900">Kh√°ch A (VIP):</p>
                                        <div class="font-mono text-xs mt-2 space-y-1">
                                            <div>[rule_1: 74.57, rule_2: 74.50, ..., rule_20: 45.2,</div>
                                            <div class="ml-4">Recency: 1, Frequency: 209, Monetary: 33719]</div>
                                            <div class="mt-2 text-green-700">‚Üí Sau scaling: [2.1, 2.1, ..., 1.5, -0.5, 2.8, 2.9]</div>
                                        </div>
                                        <p class="text-xs text-gray-700 mt-2">Cao ·ªü c·∫£ rules (mua combo) v√† RFM (gi√° tr·ªã cao)</p>
                                    </div>
                                    <div class="bg-orange-50 p-3 rounded">
                                        <p class="font-semibold text-orange-900">Kh√°ch B (Th∆∞·ªùng):</p>
                                        <div class="font-mono text-xs mt-2 space-y-1">
                                            <div>[rule_1: 0, rule_2: 0, ..., rule_20: 2.3,</div>
                                            <div class="ml-4">Recency: 2, Frequency: 11, Monetary: 4196]</div>
                                            <div class="mt-2 text-orange-700">‚Üí Sau scaling: [-0.2, -0.2, ..., 0.1, -0.4, -0.8, -0.9]</div>
                                        </div>
                                        <p class="text-xs text-gray-700 mt-2">Th·∫•p ·ªü c·∫£ rules v√† RFM</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-cyan-100 border-l-4 border-cyan-600 p-4 mt-4">
                                <p class="font-semibold text-cyan-900">K·∫øt lu·∫≠n:</p>
                                <p class="text-cyan-800">Bi·∫øn th·ªÉ <strong>Rule + RFM</strong> cho ph√©p K-Means t√°ch r√µ r√†ng:</p>
                                <ul class="text-sm mt-2 space-y-1 text-cyan-800">
                                    <li>‚Ä¢ <strong>C·ª•m 1 (VIP):</strong> Cao c·∫£ rules l·∫´n RFM ‚Üí Mua combo + Chi nhi·ªÅu + Trung th√†nh</li>
                                    <li>‚Ä¢ <strong>C·ª•m 0 (Th∆∞·ªùng):</strong> Th·∫•p c·∫£ 2 ‚Üí Mua ƒë∆°n l·∫ª + Chi √≠t + Mua th·ªânh tho·∫£ng</li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: Clustering -->
        <div id="tab-clustering" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">Ph√¢n C·ª•m K-Means</h2>
                
                <!-- K Selection -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">Ch·ªçn S·ªë C·ª•m K</h3>
                        <div class="prose max-w-none text-gray-700">
                            <p class="mb-4">S·ª≠ d·ª•ng <strong>Silhouette Score</strong> ƒë·ªÉ ƒë√°nh gi√° ch·∫•t l∆∞·ª£ng ph√¢n c·ª•m v·ªõi K t·ª´ 2 ƒë·∫øn 10.</p>
                            <ul class="space-y-2">
                                <li><strong>K = 2:</strong> Silhouette Score cao nh·∫•t (0.8541), c·ª•m t√°ch bi·ªát r√µ r√†ng, ph√π h·ª£p cho chi·∫øn l∆∞·ª£c marketing hai c·∫•p (VIP vs Th∆∞·ªùng)</li>
                                <li><strong>K = 3:</strong> Score 0.5813, t·ªët nh∆∞ng th·∫•p h∆°n ƒë√°ng k·ªÉ so v·ªõi K=2</li>
                                <li><strong>K ‚â• 4:</strong> Score gi·∫£m xu·ªëng d∆∞·ªõi 0.50, c·ª•m ch·ªìng l·∫•n nhi·ªÅu h∆°n</li>
                            </ul>
                            <div class="bg-cyan-100 border-l-4 border-cyan-600 p-4 mt-4">
                                <p class="font-semibold text-cyan-900">L·ª±a ch·ªçn: K = <span id="selected-k">2</span></p>
                                <p class="text-cyan-800 text-sm mt-1">D·ª±a tr√™n Silhouette Score cao nh·∫•t (0.8541) - C·ª•m t√°ch bi·ªát r·∫•t r√µ r√†ng, d·ªÖ tri·ªÉn khai chi·∫øn l∆∞·ª£c</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">Silhouette Score</h3>
                        <canvas id="silhouetteChart" height="300"></canvas>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="bg-gray-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Tr·ª±c Quan H√≥a C·ª•m (PCA 2D)</h3>
                    <div class="flex justify-center">
                        <canvas id="pcaScatterChart" width="800" height="500"></canvas>
                    </div>
                    
                    <!-- Explanation -->
                    <div class="mt-6 space-y-4">
                        <div class="bg-white rounded-lg p-5 border-l-4 border-blue-500">
                            <h4 class="font-semibold text-gray-800 mb-3">Gi·∫£i Th√≠ch Bi·ªÉu ƒê·ªì</h4>
                            <div class="space-y-3 text-gray-700">
                                <div>
                                    <p class="font-semibold text-blue-800">PCA (Principal Component Analysis) l√† g√¨?</p>
                                    <p class="text-sm">K·ªπ thu·∫≠t gi·∫£m chi·ªÅu: Thu g·ªçn vector nhi·ªÅu chi·ªÅu (v√≠ d·ª• 23 chi·ªÅu: 20 rules + 3 RFM) v·ªÅ 2 chi·ªÅu (PC1, PC2) ƒë·ªÉ v·∫Ω bi·ªÉu ƒë·ªì 2D, gi·ªØ l·∫°i ph·∫ßn l·ªõn th√¥ng tin quan tr·ªçng.</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-blue-800">PC1 v√† PC2 l√† g√¨?</p>
                                    <ul class="text-sm space-y-1 ml-4 mt-1">
                                        <li>‚Ä¢ <strong>PC1</strong> (tr·ª•c ngang): Th√†nh ph·∫ßn ch√≠nh th·ª© 1 - gi·ªØ th√¥ng tin nhi·ªÅu nh·∫•t</li>
                                        <li>‚Ä¢ <strong>PC2</strong> (tr·ª•c d·ªçc): Th√†nh ph·∫ßn ch√≠nh th·ª© 2 - gi·ªØ th√¥ng tin nhi·ªÅu th·ª© hai</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="bg-orange-50 rounded-lg p-5 border-l-4 border-orange-500">
                            <h4 class="font-semibold text-orange-800 mb-3">Nh·∫≠n X√©t V·ªÅ Bi·ªÉu ƒê·ªì</h4>
                            <div class="space-y-3 text-gray-700 text-sm">
                                <div>
                                    <p class="font-semibold text-orange-800">V·∫•n ƒë·ªÅ: C·ª•m ph√¢n b·ªë "l·∫°"</p>
                                    <ul class="ml-4 space-y-1 mt-1">
                                        <li>‚Ä¢ <strong>C·ª•m 0 (Cyan)</strong>: ~3,920 kh√°ch h√†ng t·∫≠p trung d√†y ƒë·∫∑c ·ªü trung t√¢m (PC1: -10‚Üí10, PC2: -1‚Üí3)</li>
                                        <li>‚Ä¢ <strong>C·ª•m 1 (Blue)</strong>: Ch·ªâ ~1 kh√°ch h√†ng ·ªü v·ªã tr√≠ c·ª±c xa (PC1: ~90, PC2: ~8)</li>
                                    </ul>
                                </div>
                                <div>
                                    <p class="font-semibold text-orange-800">Nguy√™n nh√¢n: Outlier c·ª±c ƒëoan</p>
                                    <p class="mt-1">C√≥ 1 kh√°ch h√†ng (CustomerID: "000nan") v·ªõi:</p>
                                    <ul class="ml-4 space-y-1 mt-1">
                                        <li>‚Ä¢ Frequency: <strong>1,373 ƒë∆°n</strong> (g·∫•p ~6.5 l·∫ßn TB)</li>
                                        <li>‚Ä¢ Monetary: <strong>¬£1,716,830</strong> (g·∫•p ~50 l·∫ßn TB!)</li>
                                        <li>‚Üí L√† m·ªôt outlier <strong>nghi√™m tr·ªçng</strong>, c√≥ th·ªÉ l√† d·ªØ li·ªáu l·ªói ho·∫∑c kh√°ch B2B ƒë·∫∑c bi·ªát</li>
                                    </ul>
                                </div>
                                <div>
                                    <p class="font-semibold text-orange-800">·∫¢nh h∆∞·ªüng:</p>
                                    <ul class="ml-4 space-y-1 mt-1">
                                        <li>‚Ä¢ K-Means b·ªã "k√©o" b·ªüi outlier ‚Üí T·∫°o 1 c·ª•m ri√™ng cho 1 kh√°ch h√†ng n√†y</li>
                                        <li>‚Ä¢ 3,920 kh√°ch c√≤n l·∫°i ƒë∆∞·ª£c g·ªôp v√†o 1 c·ª•m ‚Üí M·∫•t ƒëi s·ª± ƒëa d·∫°ng</li>
                                        <li>‚Ä¢ Silhouette Score cao (0.85) l√† <strong>gi·∫£ t·∫°o</strong> - do 2 c·ª•m t√°ch qu√° xa, kh√¥ng ph·∫£n √°nh ch·∫•t l∆∞·ª£ng th·∫≠t</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="bg-emerald-50 rounded-lg p-5 border-l-4 border-emerald-500">
                            <h4 class="font-semibold text-emerald-800 mb-3">Khuy·∫øn Ngh·ªã C·∫£i Thi·ªán</h4>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>1. X·ª≠ l√Ω Outlier:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>‚Ä¢ Lo·∫°i b·ªè CustomerID "000nan" (d·ªØ li·ªáu l·ªói)</li>
                                    <li>‚Ä¢ Ho·∫∑c gi·ªõi h·∫°n Monetary b·∫±ng winsorization (gi·ªõi h·∫°n ·ªü percentile 99)</li>
                                    <li>‚Ä¢ √Åp d·ª•ng log transformation cho Monetary ƒë·ªÉ gi·∫£m skewness</li>
                                </ul>
                                <p class="mt-3"><strong>2. Th·ª≠ l·∫°i ph√¢n c·ª•m:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>‚Ä¢ Sau khi x·ª≠ l√Ω outlier, ch·∫°y l·∫°i K-Means v·ªõi K=2,3,4</li>
                                    <li>‚Ä¢ Ki·ªÉm tra l·∫°i Silhouette Score - n√™n th·∫•p h∆°n nh∆∞ng ph·∫£n √°nh ch·∫•t l∆∞·ª£ng th·∫≠t</li>
                                    <li>‚Ä¢ Bi·ªÉu ƒë·ªì PCA s·∫Ω c√¢n ƒë·ªëi h∆°n, 2 c·ª•m ƒë·ªÅu c√≥ s·ªë l∆∞·ª£ng h·ª£p l√Ω</li>
                                </ul>
                                <p class="mt-3"><strong>3. Ph√¢n t√≠ch ri√™ng outlier:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>‚Ä¢ Xem CustomerID "000nan" nh∆∞ 1 case ƒë·∫∑c bi·ªát (VIP c·ª±c ƒë·ªô ho·∫∑c B2B)</li>
                                    <li>‚Ä¢ Ph√¢n t√≠ch 3,920 kh√°ch c√≤n l·∫°i th√†nh 2-3 c·ª•m c√≥ √Ω nghƒ©a</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Methodology -->
                <div class="mt-8 bg-blue-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Ph∆∞∆°ng Ph√°p</h3>
                    <div class="prose max-w-none text-gray-700">
                        <ol class="space-y-2">
                            <li><strong>Chu·∫©n b·ªã d·ªØ li·ªáu:</strong> S·ª≠ d·ª•ng bi·∫øn th·ªÉ Rule + RFM v·ªõi StandardScaler</li>
                            <li><strong>Kh·∫£o s√°t K:</strong> Test K t·ª´ 2-10, t√≠nh Silhouette Score cho m·ªói K</li>
                            <li><strong>Ch·ªçn K t·ªëi ∆∞u:</strong> Ch·ªçn K c√≥ Silhouette Score cao v√† c√≥ √Ω nghƒ©a marketing</li>
                            <li><strong>Hu·∫•n luy·ªán K-Means:</strong> Fit K-Means v·ªõi K ƒë√£ ch·ªçn, random_state=42 ƒë·ªÉ t√°i t·∫°o ƒë∆∞·ª£c</li>
                            <li><strong>Tr·ª±c quan h√≥a:</strong> Gi·∫£m chi·ªÅu v·ªÅ 2D b·∫±ng PCA, v·∫Ω scatter plot t√¥ m√†u theo cluster</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 5: Cluster Profiling -->
        <div id="tab-profiling" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">H·ªì S∆° T·ª´ng C·ª•m</h2>
                
                <!-- Cluster Selector -->
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Ch·ªçn C·ª•m</label>
                    <select id="cluster-selector" class="w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent" onchange="loadClusterProfile()">
                        <option value="">ƒêang t·∫£i...</option>
                    </select>
                </div>

                <!-- Cluster Profile Content -->
                <div id="cluster-profile-content" class="space-y-6">
                    <div class="text-center text-gray-500 py-12">
                        Vui l√≤ng ch·ªçn m·ªôt c·ª•m ƒë·ªÉ xem chi ti·∫øt
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 6: Marketing Strategies -->
        <div id="tab-strategy" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-cyan-600 pb-3">Chi·∫øn L∆∞·ª£c Marketing</h2>
                
                <div id="strategies-content" class="space-y-6">
                    <div class="text-center text-gray-500 py-12">
                        ƒêang t·∫£i chi·∫øn l∆∞·ª£c...
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="bg-white border-t mt-12">
        <div class="container mx-auto px-6 py-6">
            <div class="text-center text-gray-600 text-sm">
                <p>Shop Cluster Analysis Dashboard</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="/static/js/dashboard.js"></script>
    
    <script>
        // Tab navigation
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tabId = this.dataset.tab;
                
                // Update tab buttons
                document.querySelectorAll('.tab-btn').forEach(b => {
                    b.classList.remove('tab-active');
                });
                this.classList.add('tab-active');
                
                // Update tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(`tab-${tabId}`).classList.remove('hidden');
            });
        });

        // Initialize on load
        window.addEventListener('load', function() {
            initDashboard();
        });
    </script>
</body>
</html>
